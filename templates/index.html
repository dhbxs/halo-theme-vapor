<!DOCTYPE html>
<html
  xmlns:th="https://www.thymeleaf.org"
  th:replace="~{modules/layout :: html(content = ~{::content},page_js = ~{::page_js},_title = null,_head = ~{::head})}"
>
  <th:block th:fragment="content">
    <section class="p-[24px]">
      <figure class="for-first h-full w-full">
        <main class="max-w-screen relative z-[2] mx-auto px-0 sm:px-8 md:max-w-7xl lg:px-16">
          <section class="flex w-full flex-col gap-8 pt-[8rem]">
            <div
              class="blur-before relative mt-1 flex h-16 w-16 flex-none items-center justify-center rounded-full shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0"
            >
              <img
                th:src="${theme.config.layout.home_avatar}"
                alt="avatar"
                class="h-14 w-14 rounded-full bg-zinc-100 object-cover dark:bg-zinc-800"
              />
            </div>
            <div class="max-w-2xl">
              <th:block th:with="item=${#strings.listSplit(theme.config.layout.blogger_keywords, ',')}">
                <h1 class="blur-before text-4xl font-bold tracking-tight text-zinc-800 sm:text-5xl dark:text-zinc-100">
                  <span class="group" th:if="${item.size() > 0}">
                    <span class="font-mono">&lt;</span>[[${item[0]}]]<span class="font-mono">/&gt;</span>
                    <span
                      class="invisible inline-flex text-zinc-300 before:content-['|'] group-hover:visible group-hover:animate-typing dark:text-zinc-500"
                    ></span> </span
                  ><span th:if="${item.size() > 1}"
                    >，<span class="group relative inline-flex bg-black/5 p-1 dark:bg-white/5">
                      <span
                        class="pointer-events-none absolute inset-0 border border-lime-700/90 opacity-70 group-hover:border-dashed group-hover:opacity-100 dark:border-lime-400/90"
                        ><span
                          class="absolute -left-[3.5px] -top-[3.5px] size-1.5 border border-lime-700 bg-zinc-50 dark:border-lime-400"
                        ></span
                        ><span
                          class="absolute -bottom-[3.5px] -right-[3.5px] size-1.5 border border-lime-700 bg-zinc-50 dark:border-lime-400"
                        ></span
                        ><span
                          class="absolute -bottom-[3.5px] -left-[3.5px] size-1.5 border border-lime-700 bg-zinc-50 dark:border-lime-400"
                        ></span
                        ><span
                          class="absolute -right-[3.5px] -top-[3.5px] size-1.5 border border-lime-700 bg-zinc-50 dark:border-lime-400"
                        ></span></span
                      >[[${item[1]}]]</span
                    ></span
                  >
                  <span th:if="${item.size() > 2}"
                    >，<span class="block h-2"></span>
                    <span
                      ><span class="group inline-flex items-center">
                        <svg
                          width="1em"
                          height="1em"
                          viewBox="0 0 24 24"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                          class="mr-1 inline-flex transform-gpu transition-transform duration-500 group-hover:rotate-180"
                        >
                          <path
                            d="M4.35 17.4V18.75M4.35 18.75V20.1M4.35 18.75H5.7M4.35 18.75H3M12.9 3L13.2202 5.51971C13.6243 8.69877 16.0808 11.2281 19.2467 11.7249L21 12L19.2467 12.2751C16.0808 12.7719 13.6243 15.3012 13.2202 18.4803L12.9 21L12.5798 18.4803C12.1757 15.3012 9.71919 12.7719 6.5533 12.2751L4.8 12L6.5533 11.7249C9.71919 11.2281 12.1757 8.69877 12.5798 5.51971L12.9 3ZM5.7 3L5.76713 3.40758C5.95525 4.54964 6.85036 5.44475 7.99242 5.63286L8.4 5.7L7.99242 5.76713C6.85036 5.95525 5.95525 6.85036 5.76713 7.99242L5.7 8.4L5.63286 7.99242C5.44475 6.85036 4.54964 5.95525 3.40758 5.76713L3 5.7L3.40758 5.63286C4.54964 5.44475 5.44475 4.54964 5.63286 3.40758L5.7 3Z"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          ></path>
                        </svg>
                        <span>[[${item[2]}]]</span></span
                      ></span
                    ></span
                  >
                  <span th:if="${item.size() > 3}"
                    >，<span class="group inline-flex items-center">
                      <svg
                        width="1em"
                        height="1em"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        class="mr-1 inline-flex group-hover:fill-zinc-600/20 dark:group-hover:fill-zinc-200/20"
                      >
                        <path
                          d="M10 15H7C4.79086 15 3 16.7909 3 19C3 20.1046 3.89543 21 5 21H11.5M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7ZM17.1132 14.0554L14.8073 14.7852C14.3598 14.9268 14.051 15.3162 14.0314 15.7637L14.0043 16.3814C13.9251 18.1856 14.9474 19.8718 16.6304 20.7128L16.9566 20.8759C17.2805 21.0377 17.6666 21.0415 17.9939 20.8861L18.2783 20.7511C20.079 19.8962 21.1501 18.0865 20.9829 16.1816L20.9432 15.7293C20.9055 15.2993 20.6014 14.932 20.1703 14.7955L17.8318 14.0554C17.5986 13.9815 17.3464 13.9815 17.1132 14.0554Z"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        ></path>
                      </svg>
                      <span>[[${item[3]}]]</span>
                    </span></span
                  >
                </h1>
              </th:block>
              <p
                class="blur-before home-slogan mt-6 text-base text-zinc-600 dark:text-zinc-400"
                th:utext="${theme.config.layout.home_slogan}"
              ></p>

              <div class="blur-before author-links mt-[1em] flex max-w-[29rem] flex-wrap items-center gap-6">
                <th:block th:each="link : ${theme.config.layout.home_links}">
                  <a
                    data-state="closed"
                    th:if="${link.home_links_url}"
                    th:href="@{${link.home_links_url}}"
                    target="_blank"
                    class="group -m-1 p-1"
                    th:attr="aria-label=${
                      link.value == 'twitter' ? '我的推特' :
                      link.value == 'youtube' ? '我的YouTube' :
                      link.value == 'bilibili' ? '我的哔哩哔哩' :
                      link.value == 'github' ? '我的GitHub' :
                      link.value == 'telegram' ? '我的Telegram' :
                      link.value == 'email' ? '我的邮箱' :
                      link.value == 'weibo' ? '我的微博' :
                      link.value == 'weixin' ? '我的微信' :
                      link.value == 'weixin_mp' ? '我的微信公众号' :
                      link.value == 'xiaohongshu' ? '我的小红书' :
                      link.value == 'coolapk' ? '我的酷安' :
                      link.value == 'community' ? '我的社区' :
                      link.value == 'custom' ? '自定义链接' : '社交链接'
                    }"
                  >
                    <th:block th:switch="${link.value}">
                      <th:block th:case="'custom'">
                        <!-- SVG 格式：使用 mask 来实现主题颜色联动 -->
                        <div
                          th:if="${link.custom_icon != null and #strings.endsWith(link.custom_icon, '.svg')}"
                          class="h-6 w-6 text-zinc-400 transition group-hover:text-zinc-700 dark:text-zinc-400 dark:group-hover:text-zinc-200"
                          th:style="'background-color: currentColor; mask-image: url(' + ${link.custom_icon} + '); -webkit-mask-image: url(' + ${link.custom_icon} + '); mask-size: contain; -webkit-mask-size: contain; mask-repeat: no-repeat; -webkit-mask-repeat: no-repeat; mask-position: center; -webkit-mask-position: center;'"
                        ></div>
                        <!-- 非 SVG 格式：直接使用 img 标签 -->
                        <img
                          th:if="${link.custom_icon != null and not #strings.endsWith(link.custom_icon, '.svg')}"
                          th:src="${link.custom_icon}"
                          class="h-6 w-6"
                        />
                      </th:block>
                      <th:block th:case="'coolapk'">
                        <svg
                          class="w-6 text-zinc-400 transition group-hover:text-zinc-700 dark:text-zinc-400 dark:group-hover:text-zinc-200"
                          viewBox="0 0 1922 1024"
                          version="1.1"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M513.810604 0c308.858273 0 602.991192 297.820939 602.991192 297.820939l-132.287657 102.890399S723.386322 178.321089 513.810604 178.321089c-143.391802 0-329.062206 104.787859-329.062206 323.556901 0 213.250375 136.029126 334.594235 330.906216 334.594235C1023.05127 836.485587 1203.216369 0 1363.15081 0c104.787859 0 175.047303 244.772252 297.820938 450.406065 147.06646 246.349014 261.475239 472.814793 261.47524 481.660695 0 49.641277-46.380854 91.919878-79.479494 91.919878S1206.891026 577.255229 1206.891026 577.255229l148.910469-108.462516 189.345061 128.679812L1359.476153 259.230358c-57.912596 57.899234-336.424882 764.769642-834.628215 764.769642C329.970848 1023.986638 0 880.581473 0 500.047343 0 284.952958 162.687093 0 513.810604 0z"
                            fill="currentColor"
                          ></path>
                        </svg>
                      </th:block>
                      <th:block th:case="'xiaohongshu'">
                        <svg
                          class="h-6 w-6 text-zinc-400 transition group-hover:text-zinc-700 dark:text-zinc-400 dark:group-hover:text-zinc-200"
                          viewBox="0 0 1024 1024"
                          version="1.1"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M13.95 391.93h63.58s4.56 144.8-11.26 177.65-32.85 58.41-32.85 58.41L10 561.07l3.95-169.14zM309.03 391.93h-63.58s-4.56 144.8 11.26 177.65 32.85 58.41 32.85 58.41l23.42-66.92-3.95-169.14zM128.33 306.75h64.49v305.42s0 35.29-32.25 40.15-60.23 0-60.23 0L78.14 600h48.97l1.22-293.25zM470.25 306.75h-68.14l-52.32 110.73s-15.82 35.29 15.82 35.29h36.5l-35.29 80.31s-10.95 30.42 24.34 30.42h79.09l15.82-53.54h-47.46l53.54-110.73-64.49-2.43 42.59-90.05zM351.01 587.84h109.51l-26.77 66.65H327.89zM516.49 326.22h152.1v65.71h-152.1zM559.08 391.93H626v205.64h-66.92zM497.02 597.57h194.69v56.92H465.39zM1009.3 494.75c-6.08-40.76-77.86-41.98-77.86-41.98s-1.23 24.34-0.02-46.24c1.22-70.57-62.06-80.31-62.06-80.31H711.18v65.71h47.45v59.62h-71.79v66.92h68.14V654.6l69.36-0.12V522.13l116.81 1.22 2.43 80.31H879.1L901 654.5s25.55 0.27 63.27 0 45.02-42.32 45.02-42.32 6.09-76.67 0.01-117.43z m-138.72-43.2h-46.24v-59.62h46.24v59.62z"
                            fill="currentColor"
                          />
                          <path
                            d="M757.11 302.8h65.25v25.55h-65.25zM948.3 388.13s-8.86-76.68 42.44-59.78c41.52 13.69 19.16 81.22-42.44 59.78z"
                            fill="currentColor"
                          />
                        </svg>
                      </th:block>
                      <th:block th:case="*">
                        <i
                          class="iconfont text-xl text-zinc-400 transition group-hover:text-zinc-700 dark:text-zinc-400 dark:group-hover:text-zinc-200"
                          th:classappend="${'icon-' + link.value}"
                        ></i>
                      </th:block>
                    </th:block>
                  </a>
                </th:block>
              </div>
            </div>
          </section>
          <hgroup class="blur-before relative mt-10 w-fit">
            <p class="font-semibold text-zinc-600 dark:text-zinc-400">推荐阅读</p>
            <div class="absolute -right-10 top-[100%] h-[25px] w-[25px]">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 25 25"
                id="svg1451474137"
              >
                <path
                  d="M 24.919 22.96 C 23.578 20.741 22.154 18.562 20.814 16.343 C 20.563 15.924 19.85 16.091 19.892 16.594 C 19.892 17.557 19.934 18.479 19.934 19.442 C 19.264 18.73 19.096 17.892 18.971 16.887 C 18.887 16.468 18.719 16.007 18.259 15.882 C 17.547 15.672 16.751 16.384 16.206 16.761 C 14.824 17.725 13.568 18.856 12.06 19.652 C 10.301 20.531 10.259 19.275 10.636 17.892 C 11.013 16.426 11.683 14.96 12.437 13.662 C 13.777 11.4 15.327 9.055 15.704 6.416 C 15.913 4.95 15.159 2.73 13.316 2.814 C 11.054 2.897 8.457 4.573 6.991 6.248 C 6.154 7.086 1.379 13.369 0.918 9.767 C 0.583 7.128 2.761 3.903 4.059 1.725 C 4.227 1.431 3.808 1.138 3.599 1.389 C 1.965 3.4 0.667 5.955 0.08 8.51 C -0.213 9.892 0.248 12.447 2.258 11.903 C 4.604 11.274 6.154 8.636 7.662 6.876 C 8.583 5.746 10.049 4.908 11.306 4.238 C 13.986 2.814 15.201 4.908 14.531 7.337 C 13.693 10.311 11.557 12.74 10.342 15.547 C 9.924 16.552 8.416 19.903 10.049 20.741 C 11.934 21.704 14.447 19.316 15.788 18.269 C 15.704 18.311 17.924 16.51 18.049 16.887 C 18.175 17.264 18.175 17.725 18.259 18.144 C 18.426 18.94 18.761 19.568 19.306 20.07 C 18.51 20.029 17.714 20.07 16.919 20.196 C 16.5 20.28 16.458 20.908 16.793 21.118 C 19.18 22.458 21.861 22.793 24.416 23.673 C 24.793 23.84 25.17 23.338 24.919 22.96 Z M 20.395 20.824 C 20.646 20.824 20.73 20.615 20.688 20.447 C 20.814 20.364 20.898 20.238 20.898 20.07 L 20.898 18.395 C 21.735 19.735 22.573 21.034 23.411 22.374 C 21.819 21.913 20.186 21.578 18.678 20.95 C 19.25 20.907 19.822 20.865 20.395 20.824 Z"
                  class="fill-zinc-600 dark:fill-zinc-400"
                ></path>
              </svg>
            </div>
          </hgroup>
        </main>
      </figure>
      <th:block
        th:with="featured_focus_num=${#conversions.convert(theme.config.layout.featured_focus_num, 'java.lang.Integer')}"
      >
        <th:block th:if="${featured_focus_num > 0}" th:with="posts = ${postFinder.list(1,featured_focus_num)}">
          <div
            th:if="${posts.total gt 0}"
            th:with="postItems=${posts.items}"
            id="post-list"
            class="relative z-[2] mx-auto mt-12 grid max-w-7xl grid-cols-1 gap-4 px-0 sm:grid-cols-2 sm:gap-6 sm:px-8 lg:grid-cols-3 lg:px-16"
          >
            <th:block th:each="post : ${postItems}">
              <th:block th:replace="~{modules/post-card :: post-card(${post})}" />
            </th:block>
          </div>
        </th:block>
      </th:block>
      <div class="relative z-[2] mx-auto mt-10 max-w-7xl px-4 text-center sm:px-8 lg:px-12">
        <a
          href="/archives"
          class="sm:min-h-auto group inline-flex min-h-[44px] cursor-pointer touch-manipulation items-center justify-center gap-2 rounded-full bg-[hsl(var(--vapor--color-back-font))] px-4 py-2 text-sm text-zinc-500 ring-1 ring-inset ring-zinc-900/5 transition-all duration-300 hover:text-zinc-800 hover:ring-zinc-400 sm:px-3 sm:py-1 dark:text-zinc-400 dark:ring-white/10 dark:hover:text-zinc-200 dark:hover:ring-white/20"
        >
          全部文章
          <div
            class="h-2 w-2 rounded-full border-2 border-zinc-500 bg-zinc-500 transition-all duration-300 group-hover:border-zinc-800 group-hover:bg-zinc-800 dark:border-zinc-400 dark:bg-zinc-400 dark:group-hover:border-zinc-200 dark:group-hover:bg-zinc-200"
          ></div>
          <div
            class="h-2 w-2 rounded-full border-2 border-zinc-500 transition-all duration-300 group-hover:border-zinc-800 dark:border-zinc-400 dark:group-hover:border-zinc-200"
          ></div>
        </a>
      </div>
    </section>
  </th:block>
</html>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    main.replaceLinksInElement(document.querySelector(".home-slogan"));
  });
</script>
